<!-- <p>rsvp works!</p> -->
 <h3 class="text-decoration-underline">RSVP Form</h3>

<form [formGroup]="rsvpForm" (ngSubmit)="processForm()">
    <div>
        <label for="name" class="form-label">Name:</label>
        <input type="text" class="form-control" id="name" formControlName="name"
        [ngClass]="{
            'is-valid': isValid('name'),
            'is-invalid': isInvalid('name')
        }">
        <div id="validationServerUsernameFeedback" class="invalid-feedback">
            Please enter a valid name.
        </div>

        <div *ngIf="hasErrorCheck('name')">
            name has Error
        </div>

        
        
        <!-- <div *ngIf="rsvpForm.get('name')?.invalid && rsvpForm.get('name')?.touched" class="error">
            Name must be at least 3 characters long.
        </div> -->
    </div>
    
    <div>
        <label for="email" class="form-label">Email:</label>
        <input type="email" class="form-control" id="email" formControlName="email"
        [ngClass]="{
            'is-valid': isValid('email'),
            'is-invalid': isInvalid('email')
        }">
        <div id="validationServerUsernameFeedback" class="invalid-feedback">
            Please enter a valid email.
        </div>

        <!-- slide example, ? for null checking, class is ownself defined -->
         <!-- ?. (optional chaining) ensures that if get('email') returns null, it wonâ€™t try to call hasError() on null, preventing the error. -->
        <div class="error" *ngIf="rsvpForm.get('email')?.hasError('required')">
            Please enter your email
        </div>

        <!-- <div *ngIf="rsvpForm.get('email')?.invalid && rsvpForm.get('email')?.touched" class="error">
            Please enter a valid email.
        </div> -->
    </div>

    <div>
        <label for="phone" class="form-label">Phone:</label>
        <input type="text" class="form-control" id="phone" formControlName="phone" 
        [ngClass]="{
            'is-valid': isValid('phone'),
            'is-invalid': isInvalid('phone')
        }">
        <div id="validationServerUsernameFeedback" class="invalid-feedback">
            Please enter a valid sg number.
        </div>

        <!-- <div *ngIf="rsvpForm.get('phone')?.invalid && rsvpForm.get('phone')?.touched" class="error">
            Phone number must be valid sg number.
        </div> -->
    </div>


    <br><br>

    <p>Attending</p>
    <div class="form-check">

        <input class="form-check-input" type="radio" formControlName="attending" id="yes" value="yes">
        <label class="form-check-label" for="yes">
          YES
        </label>
    </div>
    <div class="form-check">
        <input class="form-check-input" type="radio" formControlName="attending" id="no" value="no">
        <label class="form-check-label" for="no">
          NO
        </label>
    </div>
    
    <button type="submit" [disabled]="rsvpForm.invalid">Send</button>


    <!-- UNUSED -->
    <!-- <div>
        <label class="form-check-label" for="attending">Attending:</label>

        <input class="form-check-input" type="radio" name="yes" id="yes" value="yes" formControlName="attending"> YES

        <input type="radio" value="no" formControlName="attending"> NO

        <div *ngIf="rsvpForm.get('attending')?.invalid && rsvpForm.get('attending')?.touched" class="error">
            Please select YES or NO.
        </div>
    </div> -->

    <!-- Yes or No string type  -->
    <!-- Attending:
    <input type="radio" value="yes" formControlName="attending"> YES
    <input type="radio" value="no" formControlName="attending"> NO -->

    <!-- For boolean radio type -->
    <!-- <input type="radio" [value]="true" formControlName="attending"> YES
    <input type="radio" [value]="false" formControlName="attending"> NO -->

    
</form>